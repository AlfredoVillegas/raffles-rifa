import{_ as b,s as a,r as m,o as n,c as i,a as t,t as c,d as p,w as u,v as d,e as y,F as x,i as h,n as w}from"./index.a90d2cb1.js";const k={data(){return{store:a,rifas:[],rifa:{},agregar:!1}},created(){this.getRaffles()},computed:{example(){return 0}},methods:{goRaffle(s){m.push({name:"raffle",params:{raffleId:s}})},getRaffles(){if(a.rifas[0])return this.rifas=a.rifas;this.axios.get("raffles",{headers:{Authorization:`Bearer ${this.store.user.accessToken}`}}).then(s=>{a.rifas=s.data.data,this.rifas=a.rifas}).catch(s=>{alert("error"+s.message),console.log("error"+s)})},agregarRifa(s){this.axios.post("raffles",s,{headers:{Authorization:`Bearer ${this.store.user.accessToken}`}}).then(e=>{const l=e.data.data;a.rifas.unshift(l),this.rifa={},this.agregar=!1}).catch(e=>{const l=e.response.data.error.errors.nombre.message;console.log(l),alert("error:",l)})}}},v={class:"px-4"},_={class:"w-full my-2 text-gray-900 bg-white rounded-lg border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},R={key:0},C=t("h3",{class:"text-center my-2"},"Nueva Rifa",-1),V=t("button",{class:"text-center py-2 px-4 w-full font-medium text-white bg-green-600 rounded-b-lg border border-gray-200 cursor-pointer focus:outline-none hover:bg-gray-300",type:"submit"}," Agregar ",-1),z=t("br",null,null,-1),B={class:"w-full text-sm font-medium text-gray-900 bg-white rounded-lg border border-l-green-400 border-gray-200"},N=t("li",{class:"py-2 px-4 w-full rounded-t-lg border-b-4 border-b-green-300 border-gray-200"}," Rifas ",-1),T=["onClick"];function D(s,e,l,U,r,g){return n(),i("div",v,[t("div",_,[t("button",{onClick:e[0]||(e[0]=o=>r.agregar=!r.agregar),type:"button",class:"inline- text-center relative items-center py-2 px-4 w-52 text-sm font-medium rounded-lg border border-green-500 bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700"},c(r.agregar===!0?"Cancelar":"Nueva Rifa"),1),r.agregar?(n(),i("div",R,[t("form",{onSubmit:e[5]||(e[5]=p(o=>g.agregarRifa(r.rifa),["prevent"])),class:"w-full text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200"},[C,u(t("input",{type:"text",placeholder:"Ingrese un Nombre",class:"my-2 w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2","onUpdate:modelValue":e[1]||(e[1]=o=>r.rifa.name=o)},null,512),[[d,r.rifa.name]]),u(t("textarea",{type:"text",placeholder:"Ingrese una descripcion",class:"my-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2","onUpdate:modelValue":e[2]||(e[2]=o=>r.rifa.description=o)},null,512),[[d,r.rifa.description]]),u(t("input",{type:"date",placeholder:"Fecha de finalizacion: 01-12-2020",class:"my-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2","onUpdate:modelValue":e[3]||(e[3]=o=>r.rifa.drawDate=o)},null,512),[[d,r.rifa.drawDate]]),u(t("input",{type:"number",placeholder:"ingrese cantidad de tickets",class:"my-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2","onUpdate:modelValue":e[4]||(e[4]=o=>r.rifa.totalTickets=o)},null,512),[[d,r.rifa.totalTickets]]),V],32)])):y("",!0)]),z,t("div",null,[t("ul",B,[N,(n(!0),i(x,null,h(r.rifas,(o,f)=>(n(),i("li",{key:f,class:w(["uppercase text-sm font-semibold text-gray-600 block py-2 px-4 w-full border-b border-gray-200 cursor-pointer hover:bg-gray-100 hover:text-green-600 focus:outline-none focus:ring-2 focus:ring-green-600 focus:text-green-600",{"rounded-b-lg":f===r.rifas.length-1}]),onClick:A=>g.goRaffle(o.id)},c(o.name),11,T))),128))])])])}const M=b(k,[["render",D]]);export{M as default};
